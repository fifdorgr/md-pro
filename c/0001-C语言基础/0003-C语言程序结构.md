在第2章中，已经给出了简单的C语言程序例子。在此我们仍以几个简单的例子来

仅供参考

说明C语言源程序结构的特点，这几个程序由简到难，表现了Ｃ语言源程序在组成结构上的特点。从这些例子中了解到组成一个C源程序的基本部分和书写格式。

例0.1：在屏幕上输出"Hello，world！"
```  
include <stdio.h>
main() [Tags]/*主函数*/
{
	printf("Hello world!\n"); [Tags]/*调用标准库函数，显示引号中的内容*/
}
```
这是第2章中给出的最简单的C程序，其执行结果是在终端屏幕上显示一行信息：
```  
Hello world!
```
下面，对上面的程序进行说明。
程序的第一行include 称为文件包含命令，它指的是一个程序把另一个指定文件的内容包含进来，扩展名为.h 的文件称为头文件或首部文件。书写时，可以使用引号也可以用尖括号。例如：

```  
include "stdio.h"
```
或
```  
include <stdio.h>
```

都是在程序中把文件stido.h的内容(引号或尖括号是一定要的)包含进来。文件名是用双引号还是尖括号，其含义并不一样。使用尖括号时，C编译系统首先在系统指定的目录中寻找包含文件，如果没有找到，就到当前工作目录中去寻找，这是引用系统提供的包含文件所采用的方法。而使用双引号时，C编译系统只在用户指定的目录下和当前目录下寻找包含文件。
在程序设计中，文件包含语句是非常有用的。一般C系统中带有大量的.h文件，用户可根据不同的需要将相应的.h文件包含进来。

stdio.h是关于标准输入输出的头文件，它是由系统提供的，其中定义了标准输入和输出库函数的许多信息。可以说，一般的C程序都离不开这条语句。

所有的C程序都是由一个或多个函数构成，其中必须只能有一个主函数main。程序从主函数开始执行，当执行到调用函数的语句时，程序将控制转移到调用函数中执行，执行结束后，再返回主函数中继续运行，直至程序执行结束。C程序的函数是由编译系统提供的标准函数（如printf、scanf等）和由用户自己定义的函数等。虽然从技术上讲，主函数不是C语言的一个成分，但它仍被看做是其中的一部分。

花括号{}括起来构造函数的语句，称为函数体。在这个例子中，函数体只有一条函数调用语句printf。和其它高级语言一样，C语言的语句也是用来向计算机系统发出操作指令的。一条语句经过编译后生成若干条机器指令。一个为实现特定目的的程序应包含若干条语句，即一个C程序可以由若干个源程序文件（分别编译的文件模块）组成，一个源文件可以由若干个函数和预编译命令组成，一个函数又由数据定义和执行语句两部分组成。

printf 函数是一个由系统定义的标准函数，可在程序中直接调用。printf函数的功能是把要输出的内容（本例中是Hello world!）送到显示器去显示。\n为转义字符，代表换行的意思，后面还会进一步介绍。

C语言中一个语句一般占一行，语句的最后跟着一个分号“;”，C语言规定在每条语句最后必须加一个分号“;”表示该语句的结束。分号称为终结符，单独一个分号也可构成一个语句，这就是空语句。如果不加分号，编译程序会提示错误。

程序中`/ * . . . . . * /`表示对程序的说明（称为注释），可以方便程序的阅读。注释不参与程序的运行，它可以加在程序的任何位置，注释文字可以是任意字符，如汉字、拼音、英文等。
下面再看一个较为复杂的程序。
例0.2：输入圆柱体的半径和高度，计算圆柱体的体积。

```  
include <stdio.h>
main()
{
	float radius,height,vol; [Tags]/*定义浮点型变量*/
	float volume(float,float); [Tags]/*声明volume函数*/
	printf("Please input the radius and height:\n");
	scanf("%f %f",&radius,&height); [Tags]/*调用库函数，从键盘输入radius,height的值*/
	vol=volume(radius,height); [Tags]/* 调用volume函数，计算圆柱体的体积*/
	printf("volume= %f\n",vol);
}
float volume(float r, float h) [Tags]/*定义volume函数*/
{
	float temp; [Tags]/*定义函数内部使用的变量temp*/
	float pi=3.1415926; [Tags]/*定义圆周率pi */
	temp=pi*r*r*h; [Tags]/*计算体积*/
	return temp; [Tags]/*返回计算出的体积值*/
}
```

例0.2 比例0.1复杂一些，它包含了main函数和一个根据半径和高度计算圆柱体体积的volume函数。
main函数的第一条语句是变量说明语句。前面已经说过函数由数据定义和执行语句两部分组成，变量说明即为数据定义的一部分。在C语言中，所有变量都必须先说明后使用，说明通常放在函数开始处的可执行语句之前。说明用于声明变量的性质，它由一个类型名与若干所要说明的变量组成，例如：

```  
float radius,height,vol;
```

就定义了radius，height，vol是浮点数变量（即我们通常所说的实数变量），其中，float是类型标识符，表示所列变量为浮点数变量，radius，height，vol是变量名，在本程序中分别代表圆柱体的半径，高度和体积。关于类型标识符与变量在后面的内容将会详细介绍。

在变量定义语句之后，volume函数的声明语句。因为函数volume是在main函数定义之后才定义的，并且在main函数中要调用volume函数。如果对volume函数不加以声明，编译系统会不知道volume函数的类型，因而无法编译。函数声明的目的就是告诉编译系统，main函数里调用的vol函数的参数类型以及返回类型，使得程序可以正常编译。函数声明语句中的的第1个float表示函数的返回值类型是浮点数类型，volume是函数名，括号中的2个float说明volume函数的参数类型是浮点型。

在volume函数声明语句之后是printf函数和scanf函数，它们用来输出相关信息和获得从键盘输入的圆柱体的半径和高度值，并把值赋给radius和height变量。

获得圆柱体的半径和高度值之后，main函数以此作为参数，调用volume函数，计算得出圆柱体的体积，并把结果通过赋值运算符“=”赋给变量vol。
main函数的最后一条语句是输出圆柱体的体积值。

仅供参考

main函数后面是函数volume的定义，包括函数返回值和函数参数的定义，在本程序中函数返回值类型是float型，2个参数分别代表圆柱体的半径和高度，它们也是float型。

volume函数的第1条语句是变量定义语句，定义了一个浮点型变量temp，用来保存计算得出的结果值。第2条语句也是变量定义语句，定义了圆周率pi的大小，并且给pi赋了初值。第3条语句是根据半径和高度，计算圆柱体的体积，并把计算出的值赋给变量temp，其中``“*”``代表乘法运算。volume函数的最后一条语句是返回圆柱体的体积。关于函数的定义和调用在后面会进一步介绍，读者在此只须了解函数可以完成一定的功能，由一系列语句组成即可。

编译链接后，运行本程序时，首先在终端上给出提示：输入半径和高度，从键盘键入数据，如1，3，按下回车键，程序给出运行结果：
```  
Please input the radius and height:
1 3
volume= 9.424778
```

从以上2个例子中可以看出，所有的C程序为函数模块结构，所有的C程序都是由一个或多个函数构成。从技术上讲，纯粹由程序员自己编写的语句构成C语言程序是可能的，但这却是罕见的。因为所有的C编译程序都提供能完成各种常用任务的函数—函数库（如printf、scanf等）。C编译程序的实现者已经编写了大部分常见的通用函数。当我们调用一个别人编写的函数时编译程序“记忆”它的名字。随后，“链接程序”把我们编写的程序同标准函数库中找到的目标码结合起来，这个过程称为“链接”。

编写程序时用到的函数，许多都可以在标准函数库中找到。它们是可以简单地组合起来的程序构件。编写了一个经常要用的函数之后，可将其放入库中备用。
